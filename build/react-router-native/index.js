import URLSearchParams from'@ungap/url-search-params';import{MemoryRouter,useNavigate,useBlocker,useLocation}from'react-router';import{TouchableHighlight,BackHandler,Linking,Alert}from'react-native';import PropTypes from'prop-types';import{createElement,useEffect,useCallback,useRef,useMemo}from'react';export{MemoryRouter,Navigate,Outlet,Route,Router,Routes,createRoutesFromArray,createRoutesFromChildren,generatePath,matchPath,matchRoutes,resolvePath,useBlocker,useHref,useInRouterContext,useLocation,useMatch,useNavigate,useOutlet,useParams,useResolvedPath,useRoutes}from'react-router';function g(){g=Object.assign||function(a){for(var c=1;c<arguments.length;c++){var b=arguments[c],d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}return a};return g.apply(this,arguments)}
function h(a,c){if(null==a)return{};if(null==a)var b={};else{b={};var d=Object.keys(a),e;for(e=0;e<d.length;e++){var f=d[e];0<=c.indexOf(f)||(b[f]=a[f])}}if(Object.getOwnPropertySymbols)for(e=Object.getOwnPropertySymbols(a),f=0;f<e.length;f++)d=e[f],0<=c.indexOf(d)||Object.prototype.propertyIsEnumerable.call(a,d)&&(b[d]=a[d]);return b}
function k(a,c){if(a){if("string"===typeof a)return l(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);"Object"===b&&a.constructor&&(b=a.constructor.name);if("Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return l(a,c)}}function l(a,c){if(null==c||c>a.length)c=a.length;for(var b=0,d=Array(c);b<c;b++)d[b]=a[b];return d}
function m(a){var c=0;if("undefined"===typeof Symbol||null==a[Symbol.iterator]){if(Array.isArray(a)||(a=k(a)))return function(){return c>=a.length?{done:!0}:{done:!1,value:a[c++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}c=a[Symbol.iterator]();return c.next.bind(c)}function n(a){return createElement(MemoryRouter,g({},a))}
"production"!==process.env.NODE_ENV&&(n.displayName="NativeRouter",n.propTypes=MemoryRouter.propTypes);function p(a){var c=a.onPress,b=a.replace,d=void 0===b?!1:b,e=a.state,f=a.to;a=h(a,["onPress","replace","state","to"]);var v=useNavigate();return createElement(TouchableHighlight,g({},a,{onPress:function(a){c&&c(a);a.defaultPrevented||v(f,{replace:d,state:e})}}))}
"production"!==process.env.NODE_ENV&&(p.displayName="Link",p.propTypes={onPress:PropTypes.func,replace:PropTypes.bool,state:PropTypes.object,to:PropTypes.oneOfType([PropTypes.string,PropTypes.object])});function r(a){t(a.message,a.when);return null}"production"!==process.env.NODE_ENV&&(r.displayName="Prompt",r.propTypes={message:PropTypes.string,when:PropTypes.bool});
function t(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,b=useCallback(function(b){Alert.alert("Confirm",a,[{text:"Cancel",onPress:function(){}},{text:"OK",onPress:function(){b.retry()}}])},[a]);useBlocker(b,c)}
function u(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof a||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce(function(c,b){var d=a[b];return c.concat(Array.isArray(d)?d.map(function(a){return[b,a]}):[[b,d]])},[]))}

function useHardwareBackButton(){useEffect(function(){function a(){}BackHandler.addEventListener("hardwareBackPress",a);return function(){BackHandler.removeEventListener("hardwareBackPress",a)}},[])};
function useDeepLinking(){var a=useNavigate();useEffect(function(){var c=!0;Linking.getInitialURL().then(function(b){c&&b&&a(b.replace(/^.*?:\/\//,""))});return function(){c=!1}},[a]);useEffect(function(){function c(b){a(b.url.replace(/^.*?:\/\//,""))}Linking.addEventListener("url",c);return function(){Linking.removeEventListener("url",c)}},[a])};
function useSearchParams(a){var c=useRef(u(a)),b=useLocation();a=useMemo(function(){function a(a){d.has(a)||c.current.getAll(a).forEach(function(b){d.append(a,b)})}for(var d=u(b.search),e=m(c.current.keys()),q;!(q=e()).done;)a(q.value);return d},[b.search]);var d=useNavigate(),e=useCallback(function(a,b){d("?"+u(a),b)},[d]);return[a,e]};export{p as Link,n as NativeRouter,r as Prompt,u as createSearchParams,useHardwareBackButton,useDeepLinking,t as usePrompt,useSearchParams}
//# sourceMappingURL=index.js.map
